<!DOCTYPE html>
<html lang="pt-PT">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ordem dos Exploradores Coordenados</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600&family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <main class="page">
      <header class="page__header" role="banner">
        <div class="crest" aria-hidden="true">
          <span class="crest__icon">✦</span>
        </div>
        <h1>Ordem dos Exploradores Coordenados</h1>
        <p>
          Junta-te à guilda, aprende a ler o mapa de quadrículas mágicas e usa as
          coordenadas para lançar habilidades e proteger a Floresta das Estrelas.
        </p>
      </header>

      <section class="status-panel" aria-label="Painel do jogo">
        <article class="status-panel__item">
          <h2>Missão</h2>
          <p id="round" class="status-panel__big">1 / 8</p>
        </article>
        <article class="status-panel__item">
          <h2>Marcação-chave</h2>
          <p id="target-coordinate" class="status-panel__big" aria-live="polite">
            (?, ?)
          </p>
        </article>
        <article class="status-panel__item">
          <h2>Estrelas-guia</h2>
          <p id="score" class="status-panel__big" aria-live="polite">0</p>
        </article>
        <article class="status-panel__item">
          <h2>Energia</h2>
          <div class="energy-meter" role="group" aria-label="Energia restante">
            <div class="energy-meter__track">
              <div class="energy-meter__fill" id="energy-bar"></div>
            </div>
            <span id="energy-label" class="energy-meter__label" aria-live="polite">
              3 energias
            </span>
          </div>
        </article>
      </section>

      <section class="play-area" aria-label="Mapa das coordenadas">
        <div class="play-area__bg" aria-hidden="true"></div>
        <div class="axes" aria-hidden="true">
          <div class="axes__y-label">Y</div>
          <div class="axes__x-label">X</div>
        </div>
        <div
          class="grid"
          role="grid"
          aria-label="Tabuleiro de coordenadas da Floresta das Estrelas"
        ></div>
        <div class="axis-labels axis-labels--y" aria-hidden="true"></div>
        <div class="axis-labels axis-labels--x" aria-hidden="true"></div>
        <div class="axis axis--left" aria-hidden="true"></div>
        <div class="axis axis--bottom" aria-hidden="true"></div>
      </section>

      <section class="skill-panel" aria-label="Livro de habilidades">
        <h2>Livro de habilidades</h2>
        <ul class="skill-list">
          <li class="skill" data-skill="spark">
            <h3>Faísca de Precisão</h3>
            <p>Acerta a marcação à primeira tentativa e ganha 2 estrelas-guia.</p>
          </li>
          <li class="skill" data-skill="shield">
            <h3>Escudo de Quadrícula</h3>
            <p>Usa uma dica e mantém 3 energias. Acerta depois e ganhas 1 estrela.</p>
          </li>
          <li class="skill" data-skill="bloom">
            <h3>Flor Luminescente</h3>
            <p>Acerta três missões seguidas e liberta uma animação especial.</p>
          </li>
        </ul>
      </section>

      <section class="story-panel" aria-label="Crónica de aventura">
        <div class="story-panel__header">
          <h2 id="adventure-title">Crónica em preparação</h2>
          <span id="adventure-status" class="story-panel__status">—</span>
        </div>
        <p id="adventure-text">
          Aguarda pelas ordens da guilda. Brevemente serás chamado para escolher o
          teu destino através das coordenadas.
        </p>
        <ul id="adventure-choices" class="story-panel__choices" aria-live="polite">
          <li class="story-panel__placeholder">
            Consulta o painel das escolhas para saber que coordenada carregar.
          </li>
        </ul>
      </section>

      <section class="feedback" aria-live="polite" aria-atomic="true">
        Observa a marcação-chave e escolhe a casa correta no mapa.
      </section>

      <section class="controls" aria-label="Painel de controlo">
        <button id="adventure-button" type="button" class="btn btn--story">
          Iniciar crónica
        </button>
        <button id="hint-button" type="button" class="btn btn--secondary">
          Invocar dica
        </button>
        <button id="skill-button" type="button" class="btn btn--primary">
          Ativar habilidade
        </button>
        <button id="reset-button" type="button" class="btn btn--ghost">
          Nova campanha
        </button>
      </section>

      <section class="about">
        <h2>Como ser um explorador coordenado</h2>
        <ol>
          <li>O primeiro número é o eixo <strong>X</strong> — vai da esquerda para a direita.</li>
          <li>O segundo número é o eixo <strong>Y</strong> — sobe do chão até ao céu.</li>
          <li>Conta sempre a partir do canto inferior esquerdo.</li>
          <li>Usa as energias com cuidado. Tens apenas três por missão!</li>
          <li>Recolhe estrelas-guia para desbloquear novas habilidades mágicas.</li>
        </ol>
      </section>
    </main>

    <dialog class="modal" id="skill-modal" aria-modal="true" aria-live="polite">
      <form method="dialog" class="modal__content">
        <h2 id="skill-modal-title">Habilidade ativada!</h2>
        <p id="skill-modal-body">
          Usa o poder da Faísca de Precisão para apontar à casa exata.
        </p>
        <button type="submit" class="btn btn--modal">Entendido!</button>
      </form>
    </dialog>

    <script src="script.js" type="module"></script>
  </body>
</html>

